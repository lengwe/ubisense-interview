(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{102:function(e,n,t){"use strict";t.r(n);var a=t(0),r=t.n(a),i=t(55),c=t.n(i),o=(t(69),t(38)),l=t.n(o),s=function(e){var n=e.children;return r.a.createElement("div",null,r.a.createElement("div",{className:l.a.topBar},r.a.createElement("h1",null,"Work Stations")),r.a.createElement("div",{className:l.a.root},n))},m=t(11),u=t.n(m),d=t(116),f=t(12),E=t(58),g=t.n(E),p=t(26),b=t.n(p),_=function(e,n){var t=Math.floor(n%864e5/36e5),a=Math.floor(n%36e5/6e4),r=Math.floor(n%6e4/1e3);return n<=0&&(t=0,a=0,r=0),[e,t,a,r]},v=function(e){var n=e.totalTime,t=e.entryTime,i=Object(a.useState)(""),c=Object(f.a)(i,2),o=c[0],l=c[1],s=function(e,n){var t=(new Date).getTime()-n,r=e-t,i=Object(a.useState)(t),c=Object(f.a)(i,2),o=c[0],l=c[1],s=Object(a.useState)(r),m=Object(f.a)(s,2),u=m[0],d=m[1];return Object(a.useEffect)(function(){setInterval(function(){l((new Date).getTime()-n),d(e-((new Date).getTime()-n))},1e3)},[]),_(o,u)}(n,t),m=Object(f.a)(s,4),u=m[0],d=m[1],E=m[2],p=m[3];Object(a.useEffect)(function(){v()},[u]);var v=function(){var e=u/n;e>=.6&&e<.8?l("warning"):e>.8&&l("critical")};return r.a.createElement("div",null,r.a.createElement("div",{className:b.a.elapsedContainer},r.a.createElement("span",{className:b.a.infoTitle},"Time Elapsed"),o&&r.a.createElement(g.a,{color:"critical"===o?"error":"warning",sx:{marginLeft:"10px"}})),r.a.createElement("progress",{className:o&&b.a[o],value:u,max:n}),o&&r.a.createElement("span",{className:b.a.infoTitle},"Remaining Time is: ",d,"hr ",E,"min ",p,"s"))},C=function(e){var n=e.imageURL,t=e.serialNumber,a=e.model,i=e.entryTime,c=e.cycleTime;return r.a.createElement("div",{className:u.a.cardContent},r.a.createElement("div",{className:u.a.imageContainer},r.a.createElement("img",{src:n,alt:""})),r.a.createElement(d.a,{container:!0,className:u.a.engineInfo},r.a.createElement(d.a,{item:!0,xs:6},r.a.createElement("span",{className:u.a.infoTitle},"Serial Number"),r.a.createElement("br",null),r.a.createElement("span",{className:u.a.infoContent},t)),r.a.createElement(d.a,{item:!0,xs:6},r.a.createElement("span",{className:u.a.infoTitle},"Model"),r.a.createElement("br",null),r.a.createElement("span",{className:u.a.infoContent},a)),r.a.createElement(d.a,{item:!0,xs:6},r.a.createElement("span",{className:u.a.infoTitle},"Entry Time"),r.a.createElement("br",null),r.a.createElement("span",{className:u.a.infoContent},new Date(i).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",hour12:!0}))),r.a.createElement(d.a,{item:!0,xs:6},r.a.createElement("span",{className:u.a.infoTitle},"Cycle Time"),r.a.createElement("br",null),r.a.createElement("span",{className:u.a.infoContent},c," hr")),r.a.createElement(d.a,{item:!0,xs:12},r.a.createElement(v,{entryTime:i,totalTime:3600*c*1e3}))))},T=function(){return r.a.createElement("div",{className:u.a.cardContent},r.a.createElement("div",{className:u.a.noProductCardContent},"No Product"))},y=function(e){var n=e.id,t=e.name,a=e.imageURL,i=e.serialNumber,c=e.model,o=e.entryTime,l=e.cycleTime;return r.a.createElement("div",{className:u.a.card},r.a.createElement("div",{className:u.a.cardContainer},r.a.createElement("div",{className:u.a.cardTitle},r.a.createElement("h3",null,t)),null!=n?r.a.createElement(C,{imageURL:a,model:c,serialNumber:i,entryTime:o,cycleTime:l}):r.a.createElement(T,null)))},h=t(9),N=t(118),w=t(27),j=t.n(w),O=t(49),S=t(39),x=t.n(S),P=function(){return{initialiseEngines:function(){var e=Object(O.a)(j.a.mark(function e(){return j.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",x.a.get("https://ubi-engines.azurewebsites.net/api/orchestrators/Engines"));case 1:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),initialiseWorkStations:function(){var e=Object(O.a)(j.a.mark(function e(){return j.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",x.a.get("https://ubi-interview.azurewebsites.net/api/orchestrators/workstations"));case 1:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}()}},B=(new Date).getTime(),R=[{id:"60467703c7e7ca6bca3b598c",name:"Assembly X",cycleTime:.5,entryTime:B-174e4,timeElapsed:174e4,serialNumber:"342612171",image:"https://i.postimg.cc/RVzz4CdX/2R.jpg",model:"2R"},{id:"60467703c7e7ca6bca3b598c",name:"Assembly Y",cycleTime:.5,entryTime:B-12e5,timeElapsed:12e5,serialNumber:"342612171",image:"https://i.postimg.cc/RVzz4CdX/2R.jpg",model:"2R"}],I=t(40),k=t.n(I);function A(e,n){var t="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!t){if(Array.isArray(e)||(t=function(e,n){if(!e)return;if("string"===typeof e)return D(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return D(e,n)}(e))||n&&e&&"number"===typeof e.length){t&&(e=t);var a=0,r=function(){};return{s:r,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,c=!0,o=!1;return{s:function(){t=t.call(e)},n:function(){var e=t.next();return c=e.done,e},e:function(e){o=!0,i=e},f:function(){try{c||null==t.return||t.return()}finally{if(o)throw i}}}}function D(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,a=new Array(n);t<n;t++)a[t]=e[t];return a}var L=function(){var e=Object(a.useState)(!1),n=Object(f.a)(e,2),t=n[0],i=n[1],c=Object(a.useState)(!1),o=Object(f.a)(c,2),l=o[0],s=o[1],m=Object(a.useState)([]),u=Object(f.a)(m,2),d=u[0],E=u[1],g=P().initialiseEngines,p=P().initialiseWorkStations;if(Object(a.useEffect)(function(){i(!0),Promise.all([g(),p()]).then(function(e){var n=e[0].data,t=e[1].data;b(n,t),i(!1)}).catch(function(e){s(!0),console.warn("Error fetching data: ".concat(e," "))})},[]),l)return r.a.createElement("div",null,"Error!");var b=function(e,n){var t,a={},r=A(n);try{var i=function(){var n=t.value;if(null!==n.currentProduct){var r=e.find(function(e){return e.id===n.currentProduct.id});a={id:n.currentProduct.id,name:n.name,cycleTime:n.cycleTimeHrs,entryTime:n.currentProduct.entryTime,serialNumber:r.serialNumber,image:r.image,model:r.model},E(function(e){return[].concat(Object(h.a)(e),[a])})}else a={id:null,name:n.name},E(function(e){return[].concat(Object(h.a)(e),[a])})};for(r.s();!(t=r.n()).done;)i()}catch(c){r.e(c)}finally{r.f()}E(function(e){return[].concat(Object(h.a)(e),Object(h.a)(R))})};return r.a.createElement("div",null,t?r.a.createElement("div",{className:k.a.progressContainer},r.a.createElement(N.a,null)):r.a.createElement("div",{className:k.a.cardsContainer},d.map(function(e,n){return r.a.createElement(y,{id:e.id,name:e.name,imageURL:e.image,model:e.model,serialNumber:e.serialNumber,entryTime:e.entryTime,cycleTime:e.cycleTime,key:n})})))},M=function(){return r.a.createElement("div",null,r.a.createElement(s,null,r.a.createElement(L,null)))},z=function(e){e&&e instanceof Function&&t.e(1).then(t.bind(null,115)).then(function(n){var t=n.getCLS,a=n.getFID,r=n.getFCP,i=n.getLCP,c=n.getTTFB;t(e),a(e),r(e),i(e),c(e)})};c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(M,null)),document.getElementById("root")),z()},11:function(e,n,t){e.exports={card:"EngineCard_card__1Mmrr",cardContainer:"EngineCard_cardContainer__2Bun3",cardTitle:"EngineCard_cardTitle__3neta",cardContent:"EngineCard_cardContent__3ONX0",noProductCardContent:"EngineCard_noProductCardContent__3tkwW",imageContainer:"EngineCard_imageContainer__3e4ne",engineInfo:"EngineCard_engineInfo__3ByJu",engineInfoRow:"EngineCard_engineInfoRow__2mA1K",infoTitle:"EngineCard_infoTitle__3a3Bx",infoContent:"EngineCard_infoContent__uNlGl",elapsedContainer:"EngineCard_elapsedContainer__398tc"}},26:function(e,n,t){e.exports={warning:"ProgressBar_warning__1n3zq",critical:"ProgressBar_critical__2q2IM",elapsedContainer:"ProgressBar_elapsedContainer___wu7_",infoTitle:"ProgressBar_infoTitle__1T2b6"}},38:function(e,n,t){e.exports={topBar:"TopBar_topBar__2dvWf",root:"TopBar_root__35h8J"}},40:function(e,n,t){e.exports={progressContainer:"DashboardScreen_progressContainer__1YojO",cardsContainer:"DashboardScreen_cardsContainer__3Od-d"}},62:function(e,n,t){e.exports=t(102)},69:function(e,n,t){}},[[62,3,2]]]);
//# sourceMappingURL=main.637aa117.chunk.js.map